import{r as s,T as f,E as C,j as e,c as m,x as T,U as b,a as x,F as $,y as E,L as M,H as P}from"./index.a2654dfd.js";import{F as o}from"./DeleteMsg.0b3d060c.js";import{M as c}from"./Modal.e6fddb49.js";function U({showConfirm:r,handleCloseConfirm:i}){const{theme:l}=s.exports.useContext(f),{user:t}=s.exports.useContext(C);return e(m,{children:e(c,{show:r,onHide:i,children:e(c.Body,{className:`msg-container components-${l} `,children:e(c.Title,{className:"msg-title",children:`Welcome ${t==null?void 0:t.firstName} ${t==null?void 0:t.lastName}!`})})})})}function j(){const{theme:r}=s.exports.useContext(f),[i,l]=s.exports.useState(""),[t,N]=s.exports.useState(""),[d,S]=s.exports.useState(!1),[g,h]=s.exports.useState(null),w=T(),{setLocalStorageToken:v,setSessionStorageToken:I}=s.exports.useContext(b),[y,u]=s.exports.useState(!1),p=()=>{u(!1),w("/")},k=()=>{u(!0),setTimeout(p,3e3)};async function F(n){n.preventDefault();try{h(null);const a=await P(i,t,d);a&&(d?v(a):I(a),console.log("Logged In"),k())}catch(a){console.error(a),h("Email/Password incorrect");return}}return x(m,{children:[e("div",{className:`sign-in-container body-${r} d-grid h-100`,children:x(o,{onSubmit:F,className:"sign-in-form text-center w-100",children:[e($,{icon:E,className:"fa-5x"}),e("h1",{className:"fs-3 fw-normal mb-3",children:"Please sign in"}),e(o.Group,{controlId:"sign-in-email-address text-input",children:e(o.Control,{htmlFor:"email",type:"email",size:"lg",placeholder:"Email address",value:i,className:"mb-3",onChange:n=>l(n.target.value)})}),e(o.Group,{controlId:"sign-in-password",className:"mb-3",children:e(o.Control,{htmlFor:"Password",type:"password",size:"lg",placeholder:"Password",value:t,onChange:n=>N(n.target.value)})}),e(o.Group,{controlId:"remember-me",className:"d-flex justify-content-center mb-4",children:e(o.Check,{label:"Remember me",onChange:n=>S(n.target.checked)})}),g&&e("div",{className:"error text-danger",children:g}),e("div",{className:"d-grid mb-2",children:e("button",{type:"submit",className:`buttons-${r} sign-in-register-btn`,size:"lg",children:"Sign in"})}),e(M,{to:"/register",className:`go-to-register link-${r} `,children:"Need an Account?"})]})}),e(U,{showConfirm:y,handleCloseConfirm:p})]})}function A(){return s.exports.useContext(C),s.exports.useContext(b),e(m,{children:e(j,{})})}export{A as default};
